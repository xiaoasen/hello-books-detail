---
comments: true
---

# 1.1.1 表达式

开始做程序设计，最简单方式就是去观看一些与Lisp方言Scheme 解释器交互的典型实例。 设想你坐在一台计算机的终端前，用键盘输入了一个表达式，解释器的响应就是将它对这一表达式的求值结果显示出来。

你可以键入的一种基本表达式就是数(更准确地说，你键入的是由数字组成的表达式，它表示的是以10作为基数的数)。如果你给Lisp一个数：
```
486
```
解释器的响应是打印出：
```
486
```
可以用表示基本过程的表达形式(例如+或者*),将表示数的表达式组合起来，形成复合表达式，以表示求要把有关过程应用于这些数。例如：

```
(+ 137 349)
486
(- 1000 334)
666
(* 5 99)
495
(/ 10 5)
2
(+ 2.7 10)
12.7
```

像上面这样的表达式称为组合式，其构成方式就是用一对括号括起一些表达式，形成一 个表，用于表示一个过程应用。在表里最左的元素称为运算符，其他元素都称为运算对象。 要得到这种组合式的值，采用的方式就是将由运算符所刻画的过程应用于有关的实际参数，而所谓实际参数也就是那些运算对象的值。

将运算符放在所有运算对象左边，这种形式称为前缀表示。刚开始看到这种表示时会感 到有些不习惯，因为它与常规数学表示差别很大。然而前缀表示也有一些优点，其中之一就是它完全适用于可能带有任意个实参的过程，例如在下面实例中的情况：

```
(+ 21 35 12 7)
75

(* 25 4 12)
1200
```
在这里不会出现歧义，因为运算符总是最左边的元素，而整个表达式的范围也由括号界定。

前缀表示的第二个优点是它可以直接扩充，允许出现组合式嵌套的情况，也就是说，允许组合式的元素本身又是组合式：

```
(+ (* 3 5) (- 10 6))
19
```

原则上讲，对于这种嵌套的深度，以及Lisp解释器可以求值的表达式的整体复杂性，都没有任何限制。倒是我们自己有可能被一些并不很复杂的表达式搞糊涂，例如：

```
(+ (* 3 (+ (* 2 4) (+ 3 5))) (+ (- 10 7) 6))
```

对于这个表达式，解释器可以马上求值出57。将上述表达式写成下面的形式有助于阅读：

```
(+ (* 3
      (+ (* 2 4)
         (+ 3 5)))
   (+ (- 10 7)
      6))
```
这就是遵循一种称为美观打印的格式规则。按照这种规则，在写一个很长的组合式时，我们令其中的各个运算对象垂直对齐。这样缩格排列的结果能很好地显示出表达式的结构。

即使对于非常复杂的表达式，解释器也总是按同样的基本循环运作：从终端读入一个表 达式，对这个表达式求值，而后打印出得到的结果。这种运作模式常常被人们说成是解释器 运行在一个读入-求值-打印循环之中。请特别注意，在这里完全没有必要显式地去要求解释器打印表达式的值。
